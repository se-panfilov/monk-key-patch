var Monkey=function(e){"use strict";e||console.error("Error: no config"),e.linesDelimiter=e.linesDelimiter||"\n";var i=!!e.before,t=!!e.after,r={override:function(i){var t=e.obj,r=e.method;t[r]=i(t[r]),console.log(1)},getLineNumber:function(e){e=e.trim();var i=e.indexOf(",");return-1===i?e:+e.substr(0,e.indexOf(","))},getColumnNumber:function(e){e=e.trim();var i=e.indexOf(",");return-1===i?0:+e.substr(e.indexOf(",")+1)},sortNumberArr:function(e){var i=function(e,i){return this.getLineNumber(e)>this.getLineNumber(i)};return e.sort(i)},getStrArr:function(e,i){var t=e.toString().split(i);return t.splice(0,1),t.splice(t.length-1,1),t},makeFn:function(i,t){var r=this.getFnName(e.method),n=i.join(t),o=this.getParamNames(e.method);return r&&(n="return function "+r+" () {"+n+"};"),new Function(o,n)},modifyBody:function(i){var t=this.getStrArr(e.obj[e.method],e.linesDelimiter);return i.positions&&(t=this.modifyAtPositions(t,i.positions)),i.regexps&&(t=this.modifyAtRegexp(t,i.regexps)),t},injectLine:function(e,i,t){var r=this.getLineNumber(i),n=this.getColumnNumber(i);return n>e[r].length&&(n=e.length),n>0?e.splice(r,0,t):e[r]=e[r].slice(0,n)+t+e[r].slice(n),e},modifyAtPositions:function(e,i){for(var t=this.sortNumberArr(Object.keys(i)),r=t.length-1;r>=0;r--){var n=t[r],o=i[t];this.injectLine(e,n,o)}return e},wrapRegex:function(e){var i=0===e.indexOf("/")&&e.lastIndexOf("/");return i?e:"/"+e+"/"},modifyAtRegexp:function(i,t,r){var n=i.join(r);for(var o in t)if(t.hasOwnProperty(o)){var s=t[o];if("function"==typeof s){for(var u,f=[];null!=(u=o.exec(n));)f.push(u.index);for(var a=0;a<f.length;a++){var l=f[a],m=[{}];m[0][l]=s,n=this.modifyAtPositions(this.getStrArr(n),m).join(r)}}else n.replace(this.wrapRegex(o),s)}return this.getStrArr(i,e.linesDelimiter)},getFnName:function(e){if(e.name)return e.name;var i=/^function\s+([\w\$]+)\s*\(/,t=i.exec(e.toString());return t?t[1]:null},getParamNames:function(e){var i=/(\/\/.*$)|(\/\*[\s\S]*?\*\/)|(\s*=[^,\)]*(('(?:\\'|[^'\r\n])*')|("(?:\\"|[^"\r\n])*"))|(\s*=[^,\)]*))/gm,t=/([^\s,]+)/g,r=e.toString().replace(i,""),n=r.slice(r.indexOf("(")+1,r.indexOf(")")).match(t);return n||[]}},n={config:e,original:null,linesDelimiter:e.linesDelimiter,before:e.before,after:e.after,isModified:!1,modifiedFnBody:null,isLazy:!1,punch:function(){return r.override(function(o){return n.original=o,function(){if(this.isModified=!0,i&&this.before.apply(this,arguments),e.body){var n=r.modifyBody(e.body);this.modifiedFnBody=n.join(this.linesDelimiter),o=r.makeFn(n,this.linesDelimiter)}var s=o.apply(this,arguments);return t&&this.after.apply(this,arguments),s}}),this},restore:function(){return e.obj[e.method]=this.original,this.isModified=!1,this},clear:function(e){return this}};return n.isLazy?n:n.punch()};"object"==typeof module&&module.exports&&(module.exports=Monkey);
//# sourceMappingURL=monk-key-patch.min.js.map
